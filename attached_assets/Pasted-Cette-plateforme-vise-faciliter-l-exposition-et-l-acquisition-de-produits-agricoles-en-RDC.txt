Cette plateforme vise √† faciliter l‚Äôexposition et l‚Äôacquisition de produits agricoles en RDC, avec un syst√®me hybride (vente directe + mise en relation) accessible via web et USSD/SMS.

1. Architecture g√©n√©rale
üß± Technologies choisies :
Frontend Web : React + TailwindCSS

Backend : √Ä d√©finir (recommand√© : Node.js/Express ou Laravel)

Base de donn√©es : PostgreSQL ou MongoDB (selon logique relationnelle ou orient√©e documents)

USSD/SMS Gateway : √† int√©grer (ex : Africa's Talking, Twilio, ou Orange/Airtel APIs)

H√©bergement : VPS ou cloud (Scaleway, DigitalOcean, AWS, selon budget)

2. Logique fonctionnelle principale
A. Double Mode de Vente
Mode 1 : Vente directe (si l‚Äôutilisateur fait confiance √† l‚Äôautre partie)

Mode 2 : Mise en relation (v√©rification, contact et confirmation manuelle avant transaction)

3. Acteurs du syst√®me
üë®‚Äçüåæ Agriculteur (Producteur)
Cr√©e un compte

Ajoute ses produits agricoles (type, quantit√©, prix, description, photos, zone g√©ographique)

Choisit le mode de vente :

Vente directe (avec note ‚Äúdisponible imm√©diatement‚Äù)

Mise en relation (le syst√®me facilite le contact avec l‚Äôacheteur)

Suit les commandes re√ßues

Met √† jour son stock ou archive ses offres

Peut recevoir des √©valuations de la part des acheteurs

üõí Acheteur
Navigue sur les offres sans compte (consultation simple)

Cr√©e un compte pour passer commande ou contacter un producteur

Filtre les offres par zone, prix, produit, disponibilit√©

Peut initier une commande (vente directe) ou demande de mise en relation

Donne une note/commentaire apr√®s r√©ception du produit

üßë‚Äçüíº Administrateur
Valide manuellement ou automatiquement certains profils (optionnel)

Mod√®re les publications

G√®re les utilisateurs (bloquer, suspendre, v√©rifier)

Suit les statistiques g√©n√©rales de la plateforme (offres, ventes, inscriptions)

Impl√©mente des r√®gles de publication ou partenariats futurs (coop√©ratives, ONG, etc.)

4. Interfaces / Pages Web
Interface publique
Accueil (avec recherche de produits/agriculteurs)

Liste des produits agricoles disponibles

Fiche produit

Connexion / Inscription

FAQ / √Ä propos / Contact

Interface Agriculteur
Tableau de bord (statistiques de vues, commandes, stock)

Gestion des produits (ajout, modification, suppression)

Historique des ventes

Profil et coordonn√©es

Syst√®me de messagerie int√©gr√©e (√† d√©velopper apr√®s MVP)

Interface Acheteur
Tableau de bord (commandes pass√©es, produits favoris, messages)

Liste des commandes en cours

Syst√®me d‚Äô√©valuation des produits

D√©tails du profil et pr√©f√©rences

Interface Admin
Tableau de bord global

Liste des utilisateurs

Liste des produits

Rapports & statistiques

Param√®tres de configuration

5. Fonction USSD/SMS
Objectif : consultation des offres pour les zones rurales sans internet.

USSD Menu
markdown
Copier le code
1. Voir produits par cat√©gorie
2. Voir produits par zone
3. Voir top vendeurs
4. Informations utiles
Exemple de r√©ponse :

yaml
Copier le code
Tomates - 50kg - 35.000 FC
Producteur : KASONGO J.
Zone : Kipushi
Contacter : 0991234567
6. Modules secondaires (√† pr√©voir dans le futur)
Paiement mobile (Airtel, M-Pesa) pour automatiser certaines transactions

Livraison / Logistique (via partenariat avec soci√©t√©s locales)

Programme de fid√©lit√© / incitation pour agriculteurs actifs

Formation ou assistance via chat/vid√©o

7. Priorit√©s MVP (Minimum Viable Product)
Fonctionnalit√©s essentielles √† finaliser avant le 7 ao√ªt :
Cr√©ation de compte

Publication d‚Äôune offre (agriculteur)

Consultation des offres (acheteur)

Filtrage des produits

Commande directe OU demande de mise en relation

USSD menu simple

Admin basique (visualisation des offres, utilisateurs)

8. Identit√© & marketing
Nom : Agri-Connect RDC

Slogan : ‚ÄúRelions les champs aux villes‚Äù

Couleurs : Vert (nature), Orange (dynamisme), Blanc (fiabilit√©)



================================================================================================



# Documentation API Backend ‚Äî AgriConnect

## Introduction

Ce backend expose une API RESTful pour la gestion d‚Äôune plateforme de mise en relation entre agriculteurs (farmers), acheteurs (buyers) et administrateurs (admin). Elle permet la gestion des utilisateurs, produits agricoles, commandes, avis, contacts, ainsi que la consultation de statistiques.

---

## Base URL

* En local : `http://localhost:5000/api`
* En production : √Ä d√©finir selon d√©ploiement

---

## Authentification

* M√©thode : **Token JWT** (√† impl√©menter, actuellement stub)
* Endpoints `/register` et `/login` sont publics.
* Les autres endpoints prot√©g√©s n√©cessitent un header HTTP `Authorization: Bearer <token>`.

---

## Routes

### Utilisateurs (Users)

| M√©thode | Endpoint       | Description                      | Prot√©g√© ? | Payload / Query Param                                                                            |
| ------- | -------------- | -------------------------------- | --------- | ------------------------------------------------------------------------------------------------ |
| POST    | `/register`    | Cr√©ation d‚Äôun nouvel utilisateur | Non       | `{ username, email, password, firstName, lastName, phone?, userType, location?, profileImage? }` |
| POST    | `/login`       | Connexion                        | Non       | `{ email, password }`                                                                            |
| GET     | `/admin/users` | Liste de tous les utilisateurs   | Oui       | ‚Äî                                                                                                |

---

### Produits (Products)

| M√©thode | Endpoint                      | Description                 | Prot√©g√© ? | Payload / Query Param                                                                                      |
| ------- | ----------------------------- | --------------------------- | --------- | ---------------------------------------------------------------------------------------------------------- |
| GET     | `/products`                   | Liste produits (filtrable)  | Non       | `category?`, `province?`, `search?`, `saleMode?`, `approved?`                                              |
| GET     | `/products/:id`               | D√©tails d‚Äôun produit        | Non       | ‚Äî                                                                                                          |
| POST    | `/products`                   | Cr√©ation produit            | Oui       | `{ farmerId, name, description?, category, price, unit, quantity, saleMode, location, province, images? }` |
| PUT     | `/products/:id`               | Mise √† jour produit         | Oui       | Champs modifiables selon sch√©ma                                                                            |
| DELETE  | `/products/:id`               | Suppression produit         | Oui       | ‚Äî                                                                                                          |
| GET     | `/farmer/:farmerId/products`  | Produits d‚Äôun agriculteur   | Non       | ‚Äî                                                                                                          |
| PUT     | `/admin/products/:id/approve` | Approbation produit (admin) | Oui       | ‚Äî                                                                                                          |

---

### Commandes (Orders)

| M√©thode | Endpoint                   | Description                      | Prot√©g√© ? | Payload / Query Param                                                              |
| ------- | -------------------------- | -------------------------------- | --------- | ---------------------------------------------------------------------------------- |
| POST    | `/orders`                  | Cr√©ation commande                | Oui       | `{ buyerId, productId, farmerId, quantity, totalPrice, deliveryAddress?, notes? }` |
| GET     | `/buyer/:buyerId/orders`   | Commandes d‚Äôun acheteur          | Oui       | ‚Äî                                                                                  |
| GET     | `/farmer/:farmerId/orders` | Commandes re√ßues par agriculteur | Oui       | ‚Äî                                                                                  |
| PUT     | `/orders/:id`              | Mise √† jour commande             | Oui       | Champs modifiables selon sch√©ma                                                    |

---

### Avis (Reviews)

| M√©thode | Endpoint                       | Description               | Prot√©g√© ? | Payload / Query Param                                |
| ------- | ------------------------------ | ------------------------- | --------- | ---------------------------------------------------- |
| GET     | `/products/:productId/reviews` | Liste avis d‚Äôun produit   | Non       | ‚Äî                                                    |
| POST    | `/reviews`                     | Cr√©ation d‚Äôun avis        | Oui       | `{ buyerId, productId, farmerId, rating, comment? }` |
| GET     | `/products/:productId/rating`  | Note moyenne d‚Äôun produit | Non       | ‚Äî                                                    |

---

### Contacts

| M√©thode | Endpoint                     | Description                    | Prot√©g√© ? | Payload / Query Param                                    |
| ------- | ---------------------------- | ------------------------------ | --------- | -------------------------------------------------------- |
| POST    | `/contacts`                  | Cr√©ation contact (message)     | Oui       | `{ buyerId, productId, farmerId, message, buyerPhone? }` |
| GET     | `/farmer/:farmerId/contacts` | Contacts re√ßus par agriculteur | Oui       | ‚Äî                                                        |
| PUT     | `/contacts/:id`              | Mise √† jour contact            | Oui       | Champs modifiables selon sch√©ma                          |

---

### Statistiques

| M√©thode | Endpoint | Description           | Prot√©g√© ? | Payload / Query Param |
| ------- | -------- | --------------------- | --------- | --------------------- |
| GET     | `/stats` | Statistiques globales | Oui       | ‚Äî                     |

---

### Donn√©es statiques

| M√©thode | Endpoint      | Description                      | Prot√©g√© ? | Payload / Query Param |
| ------- | ------------- | -------------------------------- | --------- | --------------------- |
| GET     | `/categories` | Liste des cat√©gories de produits | Non       | ‚Äî                     |
| GET     | `/provinces`  | Liste des provinces en RDC       | Non       | ‚Äî                     |

---

## Mod√®les de donn√©es (extraits principaux)

### Utilisateur (User)

```json
{
  "id": 1,
  "username": "nomutilisateur",
  "email": "email@example.com",
  "firstName": "Pr√©nom",
  "lastName": "Nom",
  "phone": "+243990918934",
  "userType": "farmer", // ou buyer, admin
  "location": "Lubumbashi",
  "profileImage": "url/image.jpg",
  "isActive": true,
  "createdAt": "2025-07-22T00:00:00Z",
  "updatedAt": "2025-07-22T00:00:00Z"
}
```

### Produit (Product)

```json
{
  "id": 10,
  "farmerId": 1,
  "name": "Mangues fra√Æches",
  "description": "Mangues du Katanga, bio",
  "category": "Fruits",
  "price": 1.50,
  "unit": "kg",
  "quantity": 100,
  "availableQuantity": 80,
  "saleMode": "direct",
  "location": "Lubumbashi",
  "province": "Haut-Katanga",
  "images": ["url/image1.jpg", "url/image2.jpg"],
  "isActive": true,
  "isApproved": true,
  "createdAt": "2025-07-22T00:00:00Z",
  "updatedAt": "2025-07-22T00:00:00Z"
}
```

---

## Erreurs courantes

* **400 Bad Request** : donn√©es invalides ou manque de param√®tres requis.
* **401 Unauthorized** : absence ou invalidit√© du token JWT.
* **403 Forbidden** : acc√®s refus√© selon r√¥le utilisateur.
* **404 Not Found** : ressource non trouv√©e.
* **500 Internal Server Error** : erreur interne serveur.

---

## Recommandations

* Impl√©menter une gestion compl√®te des tokens JWT avec expiration et renouvellement.
* Ajouter la gestion des r√¥les dans les middlewares de protection.
* Documenter l‚ÄôAPI avec Swagger ou Postman pour faciliter le frontend et l‚Äôint√©gration.
* Pr√©voir la pagination sur les listes volumineuses (produits, commandes, contacts).

